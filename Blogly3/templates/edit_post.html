{% extends 'base.html' %}

{% block title %}Edit Post{% endblock %} 

{% block content %}
    {% with message = get_flashed_messages() %}
        <p class="">{{ message[0] }}</p>
    {% endwith %}

    <h1>Edit post</h1>

    <form action='/edit_post/{{ post.id }}' method='POST' class="form">
        <label for="title">Title:</label>
        <input type='text' name='title' value='{{ post.title }}' required>
        <label for="content">Content:</label>
        <textarea type='text' name='content' required>{{ post.content }}</textarea>

        <label for="tags">Tags: </label>
        {% for tag in tags %}
            <div>
                <input type="checkbox" name="tags" value="{{ tag.id }}"
                    {% if tag in post.tags %}
                        checked
                    {% endif %}>
                <label>{{ tag.name }}</label>
            </div>
        {% endfor %}

        <button type="button" class="button-cancel" onclick="window.location.href='/{{ post.user_id }}'">Cancel</button>
        <button type="submit" class="button-add-post">Save</button>
    </form>

    
{% endblock %}
